#!/usr/bin/env bash

#
# Hadoop Historyserver Properties
#

JOB_NAME=historyserver
LOG_DIR=/var/vcap/sys/log/$JOB_NAME
RUN_DIR=/var/vcap/sys/run/$JOB_NAME
PIDFILE=$RUN_DIR/$JOB_NAME.pid

# User Profile
export HADOOP_GROUP=vcap
export HDFS_USER=hdfs
export YARN_USER=yarn
export MAPRED_USER=mapred
export HBASE_USER=hbase
export SPARK_USER=spark
export ZOOKEEPER_USER=zookeeper

export HADOOP_HOME=/var/vcap/packages/hadoop
export HADOOP_CONF_DIR=/var/vcap/jobs/historyserver/config
export HADOOP_COMMON_LIB_NATIVE_DIR={$HADOOP_HOME}/lib/native
export HADOOP_OPTS="-Djava.library.path=$HADOOP_HOME/lib/native"
export HADOOP_NAMENODE_ROOT=<%= p("hadoop.namenode.dfs_name_dir_root") %>
export HADOOP_NAMENODE_DIR=$HADOOP_NAMENODE_ROOT<%= p("hadoop.namenode.dfs_name_dir") %>
export HADOOP_LOG_DIR=$LOG_DIR
export HADOOP_PID_DIR=$RUN_DIR
export YARN_CONF_DIR=/var/vcap/jobs/historyserver/config
export YARN_LOG_DIR=$LOG_DIR
export YARN_PID_DIR=$RUN_DIR
export YARN_LOCAL_DIR=<%= p('hadoop.yarn.local_dir') %>;
export YARN_LOCAL_LOG_DIR=<%= p('hadoop.yarn.local_log_dir') %>;
export JAVA_HOME=/var/vcap/packages/java/jdk
export PATH=$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH

